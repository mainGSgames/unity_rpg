<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Write and run coroutines</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<meta property="relative-path-to-manual" content="">
<meta property="version-switcher-versions-with-this-page" content="Versions with this page:">
<meta property="version-switcher-versions-without-this-page" content="Versions without this page:">
<meta property="version-switcher-supported" content="Supported">
<meta property="version-switcher-legacy" content="Legacy">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<link rel="canonical" href="https://docs.unity3d.com/6000.2/Documentation/Manual/Coroutines.html">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20250905"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20250905"></script><script type="text/javascript" src="../StaticFilesManual/js/image-comp.js?ts=20250905"></script><script type="text/javascript" src="docdata/toc.js?ts=20250905"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20250905"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20250905">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/icons.css?ts=20250905">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a aria-label="go to the homepage" href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" aria-label="Search manual documentation" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>Unity 6.2</b> (6000.2)
                                <div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/Coroutines.html">English</a></li>
<li><a href="/cn/current/Manual/Coroutines.html">中文</a></li>
<li><a href="/ja/current/Manual/Coroutines.html">日本語</a></li>
<li><a href="/kr/current/Manual/Coroutines.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a aria-label="go to the homepage" href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" aria-label="Search manual documentation" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: Unity 6.2</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/Coroutines.html">English</a></li>
<li><a href="/cn/current/Manual/Coroutines.html">中文</a></li>
<li><a href="/ja/current/Manual/Coroutines.html">日本語</a></li>
<li><a href="/kr/current/Manual/Coroutines.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="scripting.html">Programming in Unity</a></li>
<li><a href="object-oriented-development.html">Object-oriented development</a></li>
<li><a href="coroutines-section.html">Split tasks across frames with coroutines</a></li>
<li>Write and run coroutines</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a aria-label="go to the previous page" href="coroutines-section.html"></a></span><div class="tip">Split tasks across frames with coroutines</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a aria-label="go to the next page" href="coroutines-analyzing.html"></a></span><div class="tip">Analyzing coroutines</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Write and run coroutines</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>A coroutine is a method that can suspend execution and resume at a later time. In Unity applications, this means coroutines can start running in one frame and then resume in another, allowing you to spread tasks across several frames. </p>

<p>Regular, non-coroutine methods run to completion before returning control to the caller, which in the Unity runtime means their action completes within a single frame update. In situations where you want the work of a method to take effect over several frames, such as a gradual fade-out effect, you can use a coroutine. Coroutines are also useful for handling long asynchronous operations, such as waiting for HTTP transfers, asset loads, or file I/O to complete.</p>

<p>
<strong>Important</strong>: Don’t confuse coroutines with threads. Synchronous operations that run within a coroutine still execute on the main thread. If you want to reduce the amount of CPU time spent on the main thread, it’s just as important to avoid blocking operations in coroutines as in any other script code. If you want to use multi-threaded code in Unity, your options are:</p>

<ul>
<li>The <a href="job-system.html">job system</a>
</li>
<li>The .NET <a href="async-await-support.html">async and await</a> and Unity’s custom <code>Awaitable</code> support</li>
</ul>

<h2>Writing coroutines</h2>

<p>Consider the task of gradually reducing an object’s alpha (opacity) value until it becomes invisible. For the fading effect to be visible, the opacity must reduce over a sequence of frames. If you tried to write a <code>Fade</code> method, you might write something like the following:</p>

<pre><code class="lang-cs">void Fade()
{
    Color c = renderer.material.color;
    for (float alpha = 1f; alpha &gt;= 0; alpha -= 0.1f)
    {
        c.a = alpha;
        renderer.material.color = c;
    }
}
</code></pre>

<p>This method is not a coroutine, so it executes every iteration of its <code>for</code> loop within a single frame update and the object disappears instantly instead of appearing to fade out. One posible solution is to add code to the <code>Update</code> function that executes the fade on a frame-by-frame basis. However, it can be more convenient to use a coroutine.</p>

<p>Coroutines are methods with an <a href="https://docs.microsoft.com/en-us/dotnet/api/system.collections.ienumerator">IEnumerator</a> return type and a <a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/yield">yield</a> return statement included somewhere in the body. The <code>yield return</code> statement is the point at which execution is suspended. The previous <code>Fade</code> method can be rewritten as a coroutine as follows:</p>

<pre><code class="lang-cs">IEnumerator Fade()
{
    Color c = renderer.material.color;
    for (float alpha = 1f; alpha &gt;= 0; alpha -= 0.1f)
    {
        c.a = alpha;
        renderer.material.color = c;
        yield return null;
    }
}
</code></pre>

<p>This version of the method executes one iteration of its <code>for</code> loop before suspending execution at the <code>yield return null</code> statement. It resumes and executes another iteration of the loop in the next frame, and so on, making the gradual fade effect visible. The loop counter in the <code>Fade</code> method maintains its correct value over the lifetime of the coroutine, and any variable or parameter is preserved between <code>yield</code> statements.</p>

<h2>Starting and stopping coroutines</h2>

<p>To set a coroutine running, use the <a href="../ScriptReference/MonoBehaviour.StartCoroutine.html">StartCoroutine</a> method:</p>

<pre><code class="lang-cs">void Update()
{
    if (Input.GetKeyDown(&quot;f&quot;))
    {
        StartCoroutine(Fade());
    }
}
</code></pre>

<p>To stop a coroutine, use <a href="../ScriptReference/MonoBehaviour.StopCoroutine.html">StopCoroutine</a> and <a href="../ScriptReference/MonoBehaviour.StopAllCoroutines.html">StopAllCoroutines</a>. A coroutine also stops if:</p>

<ul>
<li>The value of <a href="../ScriptReference/GameObject-activeSelf.html"><code>GameObject.activeSelf</code></a> becomes <code>false</code> for the <span class="tooltip"><strong>GameObject</strong><span class="tooltiptext">The fundamental object in Unity scenes, which can represent characters, props, scenery, cameras, waypoints, and more. A GameObject’s functionality is defined by the Components attached to it. <a class="tooltipMoreInfoLink" href="class-GameObject.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#GameObject">Glossary</a></span></span></span> the script is attached to.</li>
<li>The MonoBehaviour script is destroyed with a call to <a href="../ScriptReference/Object.Destroy.html">Destroy</a>.</li>
</ul>

<p>
<strong>Note:</strong> Disabling the MonoBehaviour script by setting <a href="../ScriptReference/Behaviour-enabled.html">enabled</a> to <code>false</code> doesn’t stop coroutines.</p>

<h2>Resuming coroutines</h2>

<p>When a suspended coroutine resumes execution depends on the yield instruction provided in the <code>yield return</code> statement. A <code>yield return null</code> resumes on the next frame. Unity has a set of custom yield instructions that you can use to resume after a specified time, when a specified conditions is met, or at specific points in the Player loop. For more information, refer to <a href="coroutines-yield-instructions.html">Yield instruction reference</a>.</p>

<p>In the case of fade effect example, you might want the fade effect to happen at a lower and more consistent rate than the frame rate. You can <code>yield return</code> the <a href="../ScriptReference/WaitForSeconds.html"><code>WaitForSeconds</code></a> instruction to introduce a fixed time delay between iterations of the <code>Fade</code> method as follows:</p>

<pre><code class="lang-cs">IEnumerator Fade()
{
    Color c = renderer.material.color;
    for (float alpha = 1f; alpha &gt;= 0; alpha -= 0.1f)
    {
        c.a = alpha;
        renderer.material.color = c;
        // Wait for 0.1 seconds before the next iteration
        yield return new WaitForSeconds(.1f);
    }
}
</code></pre>

<h2>Coroutines in Edit mode</h2>

<p>Coroutines are primarily a runtime feature. The associated <a href="coroutines-yield-instructions.html">runtime yield instructions</a> are in the <code>UnityEngine</code> namespace and run in the Editor’s Play mode or in a standalone platform Player. They can also run in Edit mode if your <span class="tooltip"><strong>scripts</strong><span class="tooltiptext">A piece of code that allows you to create your own Components, trigger game events, modify Component properties over time and respond to user input in any way you like. <a class="tooltipMoreInfoLink" href="creating-scripts.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Scripts">Glossary</a></span></span></span> use the <a href="../ScriptReference/ExecuteInEditMode.html"><code>[ExecuteInEditMode]</code></a> or <a href="../ScriptReference/ExecuteAlways.html"><code>[ExecuteAlways]</code></a> attributes, but the update loop in Edit mode is not as fixed and regular as the Player loop.</p>

<p>For coroutines designed specifically to run in Edit mode, use the <a href="https://docs.unity3d.com/Packages/com.unity.editorcoroutines@latest">Editor coroutines package</a>.</p>

<h2>Coroutines in tests</h2>

<p>Unity Test Framework Play mode tests marked with the <code>[UnityTest]</code> attribute run as coroutines and allow you to yield custom instructions for the Unity Editor from tests. For more information, refer to <a href="test-framework/reference-custom-yield-instructions.html">Yield instructions for the Editor</a>.</p>

<h2>Additional resources</h2>

<ul>
<li><a href="../ScriptReference/Coroutine.html">Coroutine API reference</a></li>
<li><a href="../ScriptReference/MonoBehaviour.StartCoroutine.html">MonoBehaviour.StartCoroutine</a></li>
</ul>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a aria-label="go to the previous page" href="coroutines-section.html"></a></span><div class="tip">Split tasks across frames with coroutines</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a aria-label="go to the next page" href="coroutines-analyzing.html"></a></span><div class="tip">Analyzing coroutines</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright ©2005-2025 Unity Technologies. All rights reserved. Built from 6000.2.5f1 (6de28e1118ee). Built on: 2025-09-05.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
