<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836" data-dLayer-ignore="true" data-document-language="true"></script><script type="text/javascript">function OptanonWrapper() {}</script><script>window.dataLayer = window.dataLayer || []; dataLayer.push({ event: 'dataLayer-initialized', user: { user_unity_id: undefined, user_logged_in: 'no' }, environment: { environment_locale: 'en-us', environment_currency: undefined }});</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Create a custom inventory property drawer</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<meta property="relative-path-to-manual" content="../">
<meta property="version-switcher-versions-with-this-page" content="Versions with this page:">
<meta property="version-switcher-versions-without-this-page" content="Versions without this page:">
<meta property="version-switcher-supported" content="Supported">
<meta property="version-switcher-legacy" content="Legacy">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../../StaticFilesManual/images/favicons/apple-touch-icon.png">
<link rel="canonical" href="https://docs.unity3d.com/6000.2/Documentation/Manual/ui-systems/example-create-custom-inventory-property-drawer.html">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../../StaticFilesManual/js/jquery.js?ts=20250905"></script><script type="text/javascript" src="../../StaticFilesManual/js/core.js?ts=20250905"></script><script type="text/javascript" src="../../StaticFilesManual/js/image-comp.js?ts=20250905"></script><script type="text/javascript" src="../docdata/toc.js?ts=20250905"></script><script type="text/javascript" src="../docdata/global_toc.js?ts=20250905"></script><link rel="stylesheet" type="text/css" href="../../StaticFilesManual/css/core.css?ts=20250905">
<link rel="stylesheet" type="text/css" href="../../StaticFilesManual/css/icons.css?ts=20250905">
<link rel="stylesheet" href="../../StaticFilesManual/css/prism.css">
<script src="../../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../../StaticFilesManual/css/mobileoptimisation.css">
<script src="../../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a aria-label="go to the homepage" href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="../30_search.html" method="get" class="apisearch">
<input type="text" name="q" aria-label="Search manual documentation" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../index.html" class="selected">Manual</a></li>
<li><a href="../../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>Unity 6.2</b> (6000.2)
                                <div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/ui-systems/example-create-custom-inventory-property-drawer.html">English</a></li>
<li><a href="/cn/current/Manual/ui-systems/example-create-custom-inventory-property-drawer.html">中文</a></li>
<li><a href="/ja/current/Manual/ui-systems/example-create-custom-inventory-property-drawer.html">日本語</a></li>
<li><a href="/kr/current/Manual/ui-systems/example-create-custom-inventory-property-drawer.html">한국어</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a aria-label="go to the homepage" href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" aria-label="Search manual documentation" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: Unity 6.2</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/ui-systems/example-create-custom-inventory-property-drawer.html">English</a></li>
<li><a href="/cn/current/Manual/ui-systems/example-create-custom-inventory-property-drawer.html">中文</a></li>
<li><a href="/ja/current/Manual/ui-systems/example-create-custom-inventory-property-drawer.html">日本語</a></li>
<li><a href="/kr/current/Manual/ui-systems/example-create-custom-inventory-property-drawer.html">한국어</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="../UIToolkits.html">UI systems</a></li>
<li><a href="../UIElements.html">UI Toolkit</a></li>
<li><a href="../UIE-structure-ui.html">Structure UI</a></li>
<li><a href="../UIE-uxml-examples.html">Structure UI examples</a></li>
<li>Create a custom inventory property drawer</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a aria-label="go to the previous page" href="../UIE-create-aspect-ratios-custom-control.html"></a></span><div class="tip">Create an aspect ratio custom control</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a aria-label="go to the next page" href="../UIE-USS.html"></a></span><div class="tip">Style UI</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Create a custom inventory property drawer</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>You can create custom <span class="tooltip"><strong>property drawers</strong><span class="tooltiptext">A Unity feature that allows you to customize the look of certain controls in the Inspector window by using attributes on your scripts, or by controlling how a specific Serializable class should look <a class="tooltipMoreInfoLink" href="../editor-PropertyDrawers.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../Glossary.html#PropertyDrawer">Glossary</a></span></span></span> to customize the appearance and behavior of UXML attributes of a custom control in the <span class="tooltip"><strong>Inspector</strong><span class="tooltiptext">A Unity window that displays information about the currently selected GameObject, asset or project settings, allowing you to inspect and edit the values. <a class="tooltipMoreInfoLink" href="../UsingTheInspector.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../Glossary.html#Inspector">Glossary</a></span></span></span> panel of the UI Builder.</p>

<p>SerializedFields support custom property drawers, similar to <a href="../../ScriptReference/ScriptableObject.html">ScriptableObject</a> or <a href="../../ScriptReference/MonoBehaviour.html">MonoBehaviour</a>. You can apply a custom property drawer to either the type or the field.</p>

<h2>Example overview</h2>

<p>This example creates an inventory system which includes an <code>Item</code> class, a variety of items, and an <code>Inventory</code> class. The <code>Inventory</code> class manages inventory items inside a <span class="tooltip"><strong>visual element</strong><span class="tooltiptext">A node of a visual tree that instantiates or derives from the C# <a href="../../ScriptReference/UIElements.VisualElement.html"><code>VisualElement</code></a> class. You can style the look, define the behaviour, and display it on screen as part of the UI. <a class="tooltipMoreInfoLink" href="../UIE-VisualTree.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../Glossary.html#Visualelement">Glossary</a></span></span></span>. The example uses custom property drawers to manage the inventory system.</p>

<p>You can find the completed files that this example creates in this <a href="https://github.com/Unity-Technologies/ui-toolkit-manual-code-examples/tree/master/inventory-property-drawers">GitHub repository</a>.</p>

<h2>Prerequisites</h2>

<p>This guide is for developers familiar with the Unity Editor, UI Toolkit, and C# scripting. Before you start, get familiar with the following:</p>

<ul>
<li><a href="../UIE-UXML.html">UXML</a></li>
<li><a href="../../ScriptReference/CustomPropertyDrawer.html"><code>CustomPropertyDrawer</code></a></li>
<li><a href="../../ScriptReference/UIElements.UxmlObjectAttribute.html"><code>UxmlObject</code></a></li>
<li><a href="../../ScriptReference/UIElements.UxmlAttributeAttribute.html"><code>UxmlAttribute</code></a></li>
<li><a href="../../ScriptReference/UIElements.UxmlSerializedDataCreator.CreateUxmlSerializedData.html"><code>UxmlSerializedDataCreator.CreateUxmlSerializedData</code></a></li>
</ul>

<h2>Create an item and a variety of items</h2>

<p>First, create an <code>Item</code> class. This class is abstract and serves as a blueprint for all types of objects, encompassing their shared properties. Next, create a variety of items, including a heath pack and different types of weapons.</p>

<ol>
<li><p>Create a project in Unity with any template.</p></li>
<li><p>In your <strong>Project</strong> window, create a folder named <code>inventory-property-drawers</code> to store your files.</p></li>
<li><p>In the <code>inventory-property-drawers</code> folder, create a subfolder named <code>Scripts</code> to store your C# <span class="tooltip"><strong>scripts</strong><span class="tooltiptext">A piece of code that allows you to create your own Components, trigger game events, modify Component properties over time and respond to user input in any way you like. <a class="tooltipMoreInfoLink" href="../creating-scripts.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="../Glossary.html#Scripts">Glossary</a></span></span></span>.</p></li>
<li>
<p>In the <code>Scripts</code> folder, create a C# script named <code>Item.cs</code> with the following content:</p>

<pre><code class="lang-cs">using UnityEngine.UIElements;
using UnityEngine;
    
[UxmlObject]
public abstract partial class Item
{
    [UxmlAttribute, HideInInspector]
    public int id;
    
    [UxmlAttribute]
    public string name;
    
    [UxmlAttribute]
    public float weight;
}
</code></pre>
</li>
<li>
<p>In the <code>Scripts</code> folder, create a C# script named <code>HealthPack.cs</code> with the following content:</p>

<pre><code class="lang-cs">using System;
using UnityEngine;
using UnityEngine.UIElements;
    
[UxmlObject]
public partial class HealthPack : Item
{
    [UxmlAttribute]
    public float healAmount = 100;
    
    public HealthPack()
    {
        name = &quot;Health Pack&quot;;
    }
}
    
[UxmlObject]
public partial class Sword : Item
{
    [UxmlAttribute, Range(1, 100)]
    public float slashDamage;
}
    
[Serializable]
public class Ammo
{
    public int count;
    public int maxCount;
}
    
[UxmlObject]
public partial class Gun : Item
{
    [UxmlAttribute]
    public float damage;
    
    [UxmlAttribute]
    public Ammo ammo = new Ammo { count = 10, maxCount = 10 };
}
    
</code></pre>
</li>
</ol>

<h2>Create an attribute converter and an inventory</h2>

<p>This example uses a custom attribute named <code>Ammo</code>, therefore, you must define an attribute converter for it. You need an <code>Inventory</code> class to store all items. To use the inventory, create a <code>Character</code> custom control to manage the inventory items.</p>

<ol>
<li>
<p>In the <code>Scripts</code> folder, create a C# script named <code>AmmoConverter.cs</code> with the following content:</p>

<pre><code class="lang-cs">using UnityEditor.UIElements;
    
public class AmmoConverter : UxmlAttributeConverter&lt;Ammo&gt;
{
    public override Ammo FromString(string value)
    {
        var ammo = new Ammo();
        var values = value.Split('/');
        if (values.Length == 2)
        {
            int.TryParse(values[0], out ammo.count);
            int.TryParse(values[1], out ammo.maxCount);
        }
        return ammo;
    }
    
    public override string ToString(Ammo value)
    {
        return $&quot;{value.count}/{value.maxCount}&quot;;
    }
}
    
</code></pre>
</li>
<li>
<p>In the <code>Scripts</code> folder, create a C# script named <code>Inventory.cs</code> with the following content:</p>

<pre><code class="lang-cs">using System.Collections.Generic;
using UnityEngine.UIElements;
    
[UxmlObject]
public partial class Inventory
{
    List&lt;Item&gt; m_Items = new List&lt;Item&gt;();
    Dictionary&lt;int, Item&gt; m_ItemDictionary = new Dictionary&lt;int, Item&gt;();
    
    [UxmlAttribute]
    int nextItemId = 1;
    
    [UxmlObjectReference(&quot;Items&quot;)]
    public List&lt;Item&gt; items
    {
        get =&gt; m_Items;
        set
        {
            m_Items = value;
            m_ItemDictionary.Clear();
            foreach (var item in m_Items)
            {
                m_ItemDictionary[item.id] = item;
            }
        }
    }
    
    public Item GetItem(int id) =&gt; m_ItemDictionary.TryGetValue(id, out var item) ? item : null;
}
</code></pre>
</li>
</ol>

<h2>Create a custom property drawer</h2>

<p>When you add the <code>Character</code> element to UI Builder, you can manage inventory items,but the ID value isn’t assigned automatically. To fix this, add a <code>InventoryPropertyDrawer</code> to the <code>Inventory</code> class. This allows you to manage the inventory items directly in the UI Builder. Note that when you add the custom property drawer, edit the <code>UxmlSerializedData</code> not the <code>Inventory</code> class directly.</p>

<p>To ensure the <code>Ammo</code> class to clamp the count value to be less than <code>maxCount</code>, create a <code>AmmoPropertyDrawer</code> for the <code>Ammo</code> class.</p>

<ol>
<li>
<p>In the <code>Scripts</code> folder, create a C# script named <code>InventoryPropertyDrawer.cs</code> with the following content:</p>

<pre><code class="lang-cs">// When you add a UxmlObject to the inventory list, include an instance of UxmlSerializedData, not an Item. 
// To simplify this process, this example uses `UxmlSerializedDataCreator.CreateUxmlSerializedData`, 
// a utility method that creates a UxmlObject’s UxmlSerializedData with default values.
//
// In this approach, the assignment of an ID value is introduced. To manage this, the last used ID value is stored 
// within the element as a hidden field labeled `nextItemId`. Additionally, buttons are incorporated to add preconfigured 
// sets of items. For instance, a Soldier might receive a Rifle, Machete, and Performance Pack.
using UnityEditor;
using UnityEngine.UIElements;
using UnityEngine;
using UnityEditor.UIElements;
    
[CustomPropertyDrawer(typeof(Inventory.UxmlSerializedData))]
public class InventoryPropertyDrawer : PropertyDrawer
{
    SerializedProperty m_InventoryProperty;
    SerializedProperty m_ItemsProperty;
    
    public override VisualElement CreatePropertyGUI(SerializedProperty property)
    {
        m_InventoryProperty = property;
    
        var root = new VisualElement();
    
        m_ItemsProperty = property.FindPropertyRelative(&quot;items&quot;);
        var items = new ListView
        {
            showAddRemoveFooter = true,
            showBorder = true,
            showFoldoutHeader = false,
            reorderable = true,
            virtualizationMethod = CollectionVirtualizationMethod.DynamicHeight,
            reorderMode = ListViewReorderMode.Animated,
            bindingPath = m_ItemsProperty.propertyPath,
            overridingAddButtonBehavior = OnAddItem
        };
        root.Add(items);
    
        var addSniperGear = new Button(() =&gt;
        {
            AddGun(&quot;Rifle&quot;, 4.5f, 33, 30, 30);
            AddSword(&quot;Knife&quot;, 0.5f, 7);
            AddHealthPack();
            m_InventoryProperty.serializedObject.ApplyModifiedProperties();
        });
        addSniperGear.text = &quot;Add Sniper Gear&quot;;
    
        var addWarriorGear = new Button(() =&gt;
        {
            AddGun(&quot;Rifle&quot;, 4.5f, 33, 30, 30);
            AddHealthPack();
            AddSword(&quot;Machete&quot;, 1, 11);
            m_InventoryProperty.serializedObject.ApplyModifiedProperties();
        });
        addWarriorGear.text = &quot;Add Warrior Gear&quot;;
    
        var addMedicGear = new Button(() =&gt;
        {
            AddGun(&quot;Pistol&quot;, 1.5f, 10, 15, 15);
            AddHealthPack();
            AddHealthPack();
            AddHealthPack();
            m_InventoryProperty.serializedObject.ApplyModifiedProperties();
        });
        addMedicGear.text = &quot;Add Medic Gear&quot;;
    
        root.Add(addSniperGear);
        root.Add(addWarriorGear);
        root.Add(addMedicGear);
        root.Bind(property.serializedObject);
        return root;
    }
    
    void AddGun(string name, float weight, float damage, int ammo, int maxAmmo)
    {
        m_ItemsProperty.arraySize++;
        var newItem = m_ItemsProperty.GetArrayElementAtIndex(m_ItemsProperty.arraySize - 1);
        newItem.managedReferenceValue = UxmlSerializedDataCreator.CreateUxmlSerializedData(typeof(Gun));
        newItem.FindPropertyRelative(&quot;id&quot;).intValue = NextItemId();
        newItem.FindPropertyRelative(&quot;name&quot;).stringValue = name;
        newItem.FindPropertyRelative(&quot;weight&quot;).floatValue = weight;
        newItem.FindPropertyRelative(&quot;damage&quot;).floatValue = damage;
        var ammoInstance = newItem.FindPropertyRelative(&quot;ammo&quot;);
        ammoInstance.FindPropertyRelative(&quot;count&quot;).intValue = ammo;
        ammoInstance.FindPropertyRelative(&quot;maxCount&quot;).intValue = maxAmmo;
    }
    
    void AddSword(string name, float weight, float damage)
    {
        m_ItemsProperty.arraySize++;
        var newItem = m_ItemsProperty.GetArrayElementAtIndex(m_ItemsProperty.arraySize - 1);
        newItem.managedReferenceValue = UxmlSerializedDataCreator.CreateUxmlSerializedData(typeof(Sword));
        newItem.FindPropertyRelative(&quot;id&quot;).intValue = NextItemId();
        newItem.FindPropertyRelative(&quot;name&quot;).stringValue = name;
        newItem.FindPropertyRelative(&quot;weight&quot;).floatValue = weight;
        newItem.FindPropertyRelative(&quot;slashDamage&quot;).floatValue = damage;
    }
    
    void AddHealthPack()
    {
        m_ItemsProperty.arraySize++;
        var newItem = m_ItemsProperty.GetArrayElementAtIndex(m_ItemsProperty.arraySize - 1);
        newItem.managedReferenceValue = UxmlSerializedDataCreator.CreateUxmlSerializedData(typeof(HealthPack));
        newItem.FindPropertyRelative(&quot;id&quot;).intValue = NextItemId();
    }
    
    int NextItemId() =&gt; m_InventoryProperty.FindPropertyRelative(&quot;nextItemId&quot;).intValue++;
    
    void OnAddItem(BaseListView baseListView, Button button)
    {
        var menu = new GenericMenu();
        var items = TypeCache.GetTypesDerivedFrom&lt;Item&gt;();
        foreach (var item in items)
        {
            if (item.IsAbstract)
                continue;
    
            menu.AddItem(new GUIContent(item.Name), false, () =&gt;
            {
                m_ItemsProperty.arraySize++;
                var newItem = m_ItemsProperty.GetArrayElementAtIndex(m_ItemsProperty.arraySize - 1);
                newItem.managedReferenceValue = UxmlSerializedDataCreator.CreateUxmlSerializedData(item);
                newItem.FindPropertyRelative(&quot;id&quot;).intValue = NextItemId();
                m_InventoryProperty.serializedObject.ApplyModifiedProperties();
            });
        }
    
        menu.DropDown(button.worldBound);
    }
}
</code></pre>
</li>
<li>
<p>In the <code>Scripts</code> folder, create a C# script named <code>AmmoPropertyDrawer.cs</code> with the following content:</p>

<pre><code class="lang-cs">// Note that this example creates a PropertyDrawer for the Ammo type because it's not a UxmlObject.
using UnityEditor;
using UnityEditor.UIElements;
using UnityEngine;
using UnityEngine.UIElements;
    
[CustomPropertyDrawer(typeof(Ammo))]
public class AmmoPropertyDrawer : PropertyDrawer
{
    public override VisualElement CreatePropertyGUI(SerializedProperty property)
    {
        var root = new VisualElement { style = { flexDirection = FlexDirection.Row } };
    
        var count = property.FindPropertyRelative(&quot;count&quot;);
        var maxCount = property.FindPropertyRelative(&quot;maxCount&quot;);
    
        var ammoField = new IntegerField(&quot;Ammo&quot;) { isDelayed = true, bindingPath = count.propertyPath };
        ammoField.TrackPropertyValue(count, p =&gt;
        {
            count.intValue = Mathf.Min(p.intValue, maxCount.intValue);
            property.serializedObject.ApplyModifiedProperties();
        });
        root.Add(ammoField);
        root.Add(new Label(&quot;/&quot;));
    
        var countField = new IntegerField { isDelayed = true, bindingPath = maxCount.propertyPath };
        countField.TrackPropertyValue(maxCount, p =&gt;
        {
            count.intValue = Mathf.Min(p.intValue, count.intValue);
            property.serializedObject.ApplyModifiedProperties();
        });
        root.Add(countField);
    
        root.Bind(property.serializedObject);
    
        return root;
    }
}
</code></pre>
</li>
</ol>

<h2>Test the inventory system in UI Builder</h2>

<p>To test the inventory system, in UI Builder, add a <code>Character</code> element and add items to the inventory.</p>

<ol>
<li>From the main menu, select <strong>Window</strong> &gt; <strong>UI Toolkit</strong> &gt; <strong>UI Builder</strong> to open the UI Builder window.</li>
<li>In UI Builder, in the <strong>Library</strong> panel, select the <strong>Project</strong> &gt; <strong>Custom Controls</strong> tab.</li>
<li>Drag the <code>Character</code> element from the <strong>Library</strong> panel to the <strong>Hierarchy</strong> panel.</li>
<li>In the <strong>Inspector</strong> panel, you can now add items to the inventory. The ID value is automatically assigned, and you can add pre-configured sets of items.</li>
</ol>

<figure>
<img src="../../uploads/Main/uitk/inventory-property-drawe.png" alt="An inventory property drawer example">
<figcaption>An inventory property drawer example</figcaption>
</figure>

<h2>Additional resources</h2>

<ul>
<li><a href="../UIE-custom-controls.html">Custom controls</a></li>
</ul>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a aria-label="go to the previous page" href="../UIE-create-aspect-ratios-custom-control.html"></a></span><div class="tip">Create an aspect ratio custom control</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a aria-label="go to the next page" href="../UIE-USS.html"></a></span><div class="tip">Style UI</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright ©2005-2025 Unity Technologies. All rights reserved. Built from 6000.2.5f1 (6de28e1118ee). Built on: 2025-09-05.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a><a href="https://unity.com/legal">Legal</a><a href="https://unity.com/legal/privacy-policy">Privacy Policy</a><a href="https://unity.com/legal/cookie-policy">Cookies</a><a href="https://unity.com/legal/do-not-sell-my-personal-information">Do Not Sell or Share My Personal Information</a><div id="ot-sdk-btn-container"><a id="ot-sdk-btn" class="ot-sdk-show-settings" href="javascript:void(0);">Your Privacy Choices (Cookie Settings)</a></div>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
